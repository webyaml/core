# filename: conf/tests/file/write.cfg
# path: /tests/file/read

############################################################
##
## Tests : File : Read
##
## Write a file to the filesystem and read it back
##
############################################################

noindent:
preprocess:
	type: lib.processors.file.Write
	path: /tmp/webyaml_write.txt
	value: "abcdefghijklmnopqrstuvwxyz1234567890"
	'true':
		type: lib.processors.file.Read
		path: /tmp/webyaml_write.txt
		data:
			format: string
			store: file_read
		'true':
			type: lib.processors.logic.Evaluate
			expression: '"{{md5(file_read)}}" == "{{"abcdefghijklmnopqrstuvwxyz1234567890".md5()}}"'
			'true':
				content:
					noindent:
					value: 'pass'
			
			'false':
				content:
					noindent:
					value: 'fail'
