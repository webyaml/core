# filename: conf/tests/shell/stdout.cfg
# path: /tests/file/read

############################################################
##
## Tests : Shell : stdout
##
## send echo $string to the shell and capture output
##
############################################################


noindent:
preprocess:
	type: lib.processors.shell.Shell
	cmd: 'echo test'
	stdout:
		format: string
		store: shell_echo
	'true':
		type: lib.processors.logic.Evaluate
		expression: '"{{md5(shell_echo)}}" == "{{"test".md5()}}"'
		'true':
			content:
				noindent:
				value: 'pass'
		'false':
			content:
				noindent:
				value: 'fail'
